(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{10:function(t,e,n){t.exports=n(16)},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(7),c=n.n(r),i=n(8),s=n(9),l=n(1),u=n(2),d=n(4),m=n(3),g=n(5),p=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).renderInput=function(t){return t.isEditing?o.a.createElement("input",{type:"text",className:"todo-content",value:t.content,onChange:function(e){return n.props.onEdit(e,t.id)}}):o.a.createElement(o.a.Fragment,null,o.a.createElement("label",null,t.content,o.a.createElement("em",null,t.time)))},n}return Object(g.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.changedStatus,n=t.todo;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"checkbox",onChange:e,checked:n.status}),this.renderInput(n),o.a.createElement("span",{className:"checkbox"}))}}]),e}(a.Component),h=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(o)))).toggleTodo=function(t,e){if(e.isEditing||"BUTTON"===t.target.tagName)return!1;n.props.onToggle(e.id)},n.changedStatus=function(){console.log("changed")},n}return Object(g.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.todo,a=e.onDelete,r=e.onEditStatus,c=e.onEdit;return o.a.createElement("div",{className:"item d-flex justify-content-between",onClick:function(e){return t.toggleTodo(e,n)}},o.a.createElement(p,{todo:n,changedStatus:this.changedStatus,onEdit:c}),o.a.createElement("div",{className:"btn-area"},o.a.createElement("button",{onClick:function(){return a(n.id)},className:"mr-2 btn btn_delete"}),o.a.createElement("button",{onClick:function(){return r(n.id)},className:"mr-2 btn btn_edit ".concat(n.isEditing?"isEditing":"")}),o.a.createElement("button",{className:"badge badge-".concat(n.status?"secondary":"info")},n.status?"\u5b8c\u6210":"\u672a\u5b8c\u6210")))}}]),e}(a.Component),f=function(t){var e=t.value,n=t.onChangeContent,a=t.onAdd;return o.a.createElement("div",{className:"input-group mb-3 input-text"},o.a.createElement("input",{type:"text",value:e,onChange:n,className:"form-control input_addTodo"}),o.a.createElement("button",{onClick:a,className:"ml-2 btn_add btn btn-outline-secondary"},"\u9001\u51fa"))},b=function(t){var e=t.onChangeFilter,n=t.todos,a=t.filter,r=function(t){return console.log(a),a===t?"":"-outline"};return o.a.createElement("div",{className:"btn-group todo-filter"},o.a.createElement("button",{onClick:e,"data-type":"all",className:"btn btn-sm btn".concat(r("all"),"-success"),type:"button"},"\u6240\u6709"),o.a.createElement("button",{onClick:e,"data-type":"compeleted",className:"btn btn-sm btn".concat(r("compeleted"),"-success"),type:"button"},"\u5df2\u5b8c\u6210"),o.a.createElement("p",{className:"ml-2 mb-0"},"\u9084\u6709",o.a.createElement("span",{className:"ml-2 mr-2 badge badge-pill badge-success"},n.filter(function(t){return!t.status}).length),"\u4ef6\u672a\u5b8c\u6210\u4efb\u52d9"))};n(15);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(n,!0).forEach(function(e){Object(i.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(d.a)(this,Object(m.a)(e).call(this,t))).getCurrentTime=function(t){var e=function(t){return(t<10?"0":"")+t},n=new Date,a="".concat(n.getMonth()+1,"/").concat(n.getDate()),o="".concat(e(n.getHours()),":").concat(e(n.getMinutes()));return t?a:"".concat(a,"  ").concat(o)},n.state={todos:[{id:0,content:"\u6c92\u5167\u5bb9\u6211\u5c31\u6703\u51fa\u73fe\u5537\uff01",status:0,isEditing:!1,time:n.getCurrentTime()}],newContent:"",filter:"all",id:0},n.getContent=function(t){n.setState({newContent:t.target.value})},n.handleAdd=function(){n.setState({todos:[].concat(Object(s.a)(n.state.todos),[{id:n.id+1,content:n.state.newContent,status:0,isEditing:!1,time:n.getCurrentTime()}]),newContent:""}),n.id++},n.handleDelete=function(t){n.setState({todos:n.state.todos.filter(function(e){return e.id!==t})})},n.handleToggle=function(t){n.setState({todos:n.state.todos.map(function(e){return e.id!==t?e:v({},e,{status:Number(!e.status)})})})},n.handleFilter=function(t){n.setState({filter:t.target.dataset.type})},n.handleEditStatus=function(t){n.setState({todos:n.state.todos.map(function(e){return e.id!==t?e:v({},e,{isEditing:!e.isEditing})})})},n.handleEdit=function(t,e){n.setState({todos:n.state.todos.map(function(n){return n.id!==e?n:v({},n,{content:t.target.value})})})},n.id=0,n}return Object(g.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("todo");if(t&&"[]"!==t){var e=JSON.parse(t);this.setState({todos:e}),this.id=e[e.length-1].id+1}}},{key:"componentDidUpdate",value:function(t,e){console.log(this.state.todos),e.todos!==this.state.todos&&localStorage.setItem("todo",JSON.stringify(this.state.todos))}},{key:"render",value:function(){var t=this,e=this.state,n=e.todos,a=e.newContent,r=e.filter;return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"main"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h1",null,"Today",o.a.createElement("span",{className:"ml-2"},this.getCurrentTime(!0))),o.a.createElement(f,{value:a,onAdd:this.handleAdd,onChangeContent:this.getContent}),o.a.createElement(b,{filter:r,onChangeFilter:this.handleFilter,todos:n}),o.a.createElement("div",{className:"todo-list"},n.filter(function(t){return"compeleted"!==r||t.status}).map(function(e){return o.a.createElement(h,{key:e.id,todo:e,onEditStatus:t.handleEditStatus,onEdit:t.handleEdit,onDelete:t.handleDelete,onToggle:t.handleToggle})}))),o.a.createElement("div",{className:"description"},o.a.createElement("h4",null,"Todo  List"),o.a.createElement("p",null,"\u6b64\u70ba React \u7684\u7df4\u7fd2\u4f5c\u696d\uff0c\u85c9\u7531\u57fa\u672c\u7684\u522a\u9664\u3001\u65b0\u589e Todo \u529f\u80fd\u53bb\u719f\u6089 React \u7684\u64cd\u4f5c\u6a21\u5f0f\u3002\b"))),o.a.createElement("div",{class:"author"},"\xa9 Copyright 2019, Yakim.",o.a.createElement("button",{className:"author-github"})))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.1cb15556.chunk.js.map